<ui:composition xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                template="/stylesheets/template.xhtml">
    <ui:define name="content">
        <div id="maPage" class="div_body">
            <h1>
                <span class="section-header">
                    <h:outputText value="#{msgs['GESTIONNAIRE.TITLE.SEE']}"/>
                </span>
            </h1>
            <br/>
            <br/>
            <br/>

            <!--     		<ui:fragment rendered="#{not empty managedAccess.traitementDisplay}"> -->
            <!--     			<h:form id="updateRightManagerForm" styleClass="opiR1_form"> -->
            <!--     				<opi:menuDynTag id="menuFonction" styleClass="displayTraitement"> -->
            <!--     					<opi:menuDynItems value="#{managedAccess.traitementDisplay}" -->
            <!--     						styleClass="form-button-link" /> -->
            <!--     				</opi:menuDynTag> -->
            <!--     			</h:form> -->
            <!--     		</ui:fragment> -->
            <!--     		<br /> -->
            <div id="div_subSection" class="div_subSection">

                <div id="blockFormInfo" class="blockForm">
                    <div class="blockButton">
                        <h:panelGroup>
                            <h:form id="seeOneManagerForm" styleClass="opiR1_form">
                                <p:commandButton
                                        value="Affecter des droits"
                                        ajax="false" immediate="true"
                                        action="#{gestionnaireController.goAffectRightManager}"
                                        rendered="#{managedAccess.readAuthorized}"/>
                                <p:commandButton value="#{msgs['_.BUTTON.UPDATE']}"
                                                 ajax="false" immediate="true"
                                                 rendered="#{managedAccess.updateAuthorized}"
                                                 action="#{gestionnaireController.goEnterManager}">
                                    <f:setPropertyActionListener
                                            value="#{gestionnaireController.actionEnum.updateAction}"
                                            target="#{gestionnaireController.actionEnum.whatAction}"/>
                                </p:commandButton>
                                <p:commandButton value="#{msgs['_.BUTTON.BACK']}"
                                                 ajax="false" immediate="true"
                                                 action="#{gestionnaireController.goSeeAllManagers}">
                                    <f:setPropertyActionListener
                                            value="#{gestionnaireController.actionEnum.emptyAction}"
                                            target="#{gestionnaireController.actionEnum.whatAction}"/>
                                </p:commandButton>
                            </h:form>
                        </h:panelGroup>
                    </div>
                    <h:panelGrid styleClass="tableWidthMax" columns="4"
                                 columnClasses="colUnQuart,colUnQuart,colUnQuart,colUnQuart">
                        <h:panelGroup>
                            <h:outputLabel value="#{msgs['FIELD_LABEL.NAME']}" for="nom"
                                           styleClass="form-field-label-validator"/>
                            <h:outputText value="*" styleClass="etoileForChpObli"/>
                        </h:panelGroup>
                        <h:outputText id="nom" value="#{gestionnaireController.manager.nomUsuel}"/>
                        <h:panelGroup>
                            <h:outputLabel value="#{msgs['INDIVIDU.PRENOM']}" for="prenom"
                                           styleClass="form-field-label-validator"/>
                            <h:outputText value="*" styleClass="etoileForChpObli"/>
                        </h:panelGroup>
                        <h:outputText id="prenom"
                                      value="#{gestionnaireController.manager.prenom}"/>

                        <h:panelGroup>
                            <h:outputLabel value="#{msgs['GESTIONNAIRE.LOGIN']}" for="login"
                                           styleClass="form-field-label-validator"/>
                            <h:outputText value="*" styleClass="etoileForChpObli"/>
                        </h:panelGroup>
                        <h:outputText id="login" value="#{gestionnaireController.manager.login}"/>
                        <h:panelGroup>
                            <h:outputLabel value="#{msgs['FIELD_LABEL.MAIL']}"
                                           styleClass="form-field-label-validator" for="adressMail"/>
                            <h:outputText value="*" styleClass="etoileForChpObli"/>
                        </h:panelGroup>
                        <h:outputText id="adressMail"
                                      value="#{gestionnaireController.manager.adressMail}"/>

                        <h:panelGroup>
                            <h:outputLabel value="#{msgs['PROFIL']}" for="profil"
                                           styleClass="form-field-label-validator"/>
                            <h:outputText value="*" styleClass="etoileForChpObli"/>
                        </h:panelGroup>
                        <h:outputText id="profil"
                                      value="#{gestionnaireController.manager.profile.libelle}"/>
                        <h:outputLabel value="#{msgs['FIELD_LABEL.CGE']}"
                                       styleClass="form-field-label-validator" for="cge"/>
                        <h:outputText id="cge" value="#{gestionnaireController.manager.codeCge}"/>

                        <h:panelGroup>
                            <h:outputLabel value="#{msgs['GESTIONNAIRE.DBT_VALID']}"
                                           styleClass="form-field-label-validator" for="datdbtvalid"/>
                            <h:outputText value="*" styleClass="etoileForChpObli"/>
                        </h:panelGroup>
                        <h:outputText id="datdbtvalid"
                                      value="#{gestionnaireController.manager.dateDbtValidite}">
                            <f:convertDateTime pattern="dd/MM/yyyy"
                                               timeZone="#{sessionController.timezone}"/>
                        </h:outputText>
                        <h:outputLabel value="#{msgs['GESTIONNAIRE.END_VALID']}"
                                       styleClass="form-field-label-validator"
                                       for="datfinvalid"/>
                        <h:outputText id="datfinvalid"
                                      value="#{gestionnaireController.manager.dateFinValidite}">
                            <f:convertDateTime pattern="dd/MM/yyyy"
                                               timeZone="#{sessionController.timezone}"/>
                        </h:outputText>
                    </h:panelGrid>
                </div>

                <br/>
                <br/>
                <ui:fragment rendered="#{not empty commissionController.selectedCommissions}">
                    <div id="divSelectCmi">
                        <div style="width:100%;">
                            <h:outputText value="#{msgs['COMMISSIONS']}"
                                          styleClass="section-smallTitle"/>
                        </div>
                        <p:dataTable var="commission"
                                     value="#{commissionController.selectedCommissions}"
                                     renderedIfEmpty="false" styleClass="displayInfo"
                                     alternateColors="false">
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="#{msgs['FIELD_LABEL.CODE']}"/>
                                </f:facet>
                                <h:outputText value="#{commission.code}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="#{msgs['FIELD_LABEL.LIBELLE']}"/>
                                </f:facet>
                                <h:outputText value="#{commission.libelle}"/>
                            </p:column>
                        </p:dataTable>
                    </div>
                </ui:fragment>
            </div>

            <br/>
            <br/>
            <br/>
        </div>

        <script type="text/javascript">
            highlightChildrenLiTags('navigationHeader:navigation');
            highlightChildrenLiTags('navigationFooter:navigation');
            highlightInputAndSelect('enterManagerForm');
            hideElement('enterManagerForm:submitCodCge');
        </script>
    </ui:define>
</ui:composition>

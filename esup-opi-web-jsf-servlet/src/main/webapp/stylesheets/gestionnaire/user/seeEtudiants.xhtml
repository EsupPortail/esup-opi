<ui:composition xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:p="http://primefaces.org/ui"
    template="/stylesheets/templateGestionnaire.xhtml">
    <ui:define name="content">
    	
    	
    	<div id="maPage" class="div_body">
    		<h1><h:outputText value="#{msgs['INDIVIDU.TITLE.LISTE']}" /></h1>
            <ui:fragment rendered="#{individuController.actionEnum.whatAction == individuController.actionEnum.deleteAction}">
        		<div id="div_subSectionDelete" class="div_subSection">
        			<ui:include src="_student/_deleteStudent.xhtml" />
        		</div>
            </ui:fragment>
    
    		<h:form id="seeManagersForm">
    			<ui:include src="/stylesheets/gestionnaire/user/_student/_lookForIndividu.xhtml" />
    			<div class="messageForUser">
    				<p:messages id="messages" showDetail="true" autoUpdate="true" />
    			</div>
    			<br />
    			<br />
    			<div id="blockFormButton" class="blockForm">
    				<div class="blockButton">
    					<h:panelGroup>
    						<p:commandButton value="#{msgs['_.BUTTON.ADD']}" ajax="false"
    							action="#{individuController.goAddEtudiant}"
    							rendered="#{managedAccess.addAuthorized}" />
    						<p:commandButton value="#{msgs['_.BUTTON.BACK']}" ajax="false" immediate="true"
    							action="#{managedAccess.goDisplayFunction}" />
    					</h:panelGroup>
    				</div>
    				<p:dataTable var="individu" id="managerData"
    					value="#{paginatorIndividu.visibleItems}"
    					styleClass="paginatorData"
                        paginator="true" rows="10" rowsPerPageTemplate="10,20,30,40"
                        paginatorTemplate="#{msgs['PRIMEFACES.TEMPLATE.PAGINATOR']}"
                        currentPageReportTemplate="#{msgs['INDIVIDUS']} #{msgs['PRIMEFACES.TEMPLATE.CURRENTPAGE']}"
                        emptyMessage="#{msgs['INDIVIDU.NOT.FOUND']}">
<!--     					<f:facet name="header"> -->
<!--     						<h:panelGroup> -->
<!--     							<e:paginator id="paginatorIndividu" -->
<!--     								paginator="#{paginatorIndividu}" -->
<!--     								itemsName="#{msgs['INDIVIDUS']}" -->
<!--     								onchange="javascript:{simulateLinkClick('seeManagersForm:managerData:submitPageSize');}" /> -->
<!--     							<p:commandButton id="submitPageSize" -->
<!--     								action="#{paginatorIndividu.forceReload}" /> -->
<!--     						</h:panelGroup> -->
<!--     					</f:facet> -->
    					<p:column>
    						<f:facet name="header">
    							<h:outputText value="#{msgs['INDIVIDU.NUM_DOSSIER']}" />
    						</f:facet>
    						<h:outputText value="#{individu.numDossierOpi}" />
    					</p:column>
    					<p:column>
    						<f:facet name="header">
    							<h:outputText value="#{msgs['INDIVIDU.NOM']}" />
    						</f:facet>
    						<h:outputText value="#{individu.nomPatronymique}" />
    					</p:column>
    					<p:column>
    						<f:facet name="header">
    							<h:outputText value="#{msgs['INDIVIDU.PRENOM']}" />
    						</f:facet>
    						<h:outputText value="#{individu.prenom}" />
    					</p:column>
    					<p:column>
    						<f:facet name="header">
    							<h:outputText value="#{msgs['INDIVIDU.DATE_NAI_COURT']}" />
    						</f:facet>
    						<h:outputText value="#{individu.dateNaissance}">
    							<f:convertDateTime pattern="dd/MM/yyyy"
    								timeZone="#{sessionController.timezone}" />
    						</h:outputText>
    					</p:column>
    
    
    					<p:column>
    						<p:commandButton icon="ui-icon-search" ajax="false" immediate="true"
    							title="#{msgs['_.BUTTON.DISPLAY']}"
    							action="#{individuController.goSeeOneIndividu}">
    							<f:setPropertyActionListener value="#{individu}" target="#{individuController.pojoIndividu.individu}" />
    						</p:commandButton>
    					</p:column>
    					<p:column>
    						<p:commandButton icon="ui-icon-minus" ajax="false" immediate="true"
    							rendered="#{managedAccess.deleteAuthorized}"
    							title="#{msgs['_.BUTTON.DELETE']}">
    							<f:setPropertyActionListener value="#{individu}" target="#{individuController.pojoIndividu.individu}" />
    							<f:setPropertyActionListener value="#{individuController.actionEnum.deleteAction}" target="#{individuController.actionEnum.whatAction}" />
    						</p:commandButton>
    					</p:column>
    
    				</p:dataTable>
    			</div>
    		</h:form>    
    		<br />
    		<br />
    		<br />
    
    	</div>
    </ui:define>
</ui:composition>

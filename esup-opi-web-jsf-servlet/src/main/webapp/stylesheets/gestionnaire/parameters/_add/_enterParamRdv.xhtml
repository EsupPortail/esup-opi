<ui:fragment xmlns:f="http://java.sun.com/jsf/core"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:p="http://primefaces.org/ui">
	<h:panelGrid columns="2" columnClasses="col1UnDemi,col2UnDemi" styleClass="tableJustWidthMax">
		<h:outputText value="#{msgs['CALENDAR_RDV.TITLE.ENTER']}" styleClass="section-smallTitle"
			rendered="#{paramRdvController.actionEnum.whatAction == paramRdvController.actionEnum.addAction}"/>
		<h:outputText value="#{msgs['CALENDAR_RDV.TITLE.UPDATE']}" styleClass="section-smallTitle"
			rendered="#{paramRdvController.actionEnum.whatAction == paramRdvController.actionEnum.updateAction}">
			<f:param value="#{paramRdvController.calendarRDV.titre}"/>
		</h:outputText>
		<h:panelGroup>
			<p:commandButton value="#{msgs['_.BUTTON.VALIDATE']}"
				rendered="#{paramRdvController.actionEnum.whatAction == paramRdvController.actionEnum.addAction}"
				action="#{paramRdvController.add}"/>
			<p:commandButton value="#{msgs['_.BUTTON.VALIDATE']}"
				rendered="#{paramRdvController.actionEnum.whatAction == paramRdvController.actionEnum.updateAction}"
				action="#{paramRdvController.update}"/>
			<p:commandButton value="#{msgs['_.BUTTON.CANCEL']}"
				action="#{paramRdvController.reset}"/>
		</h:panelGroup>
	</h:panelGrid>
	
	
	<h:panelGrid columns="2" styleClass="displayAddRdv" columnClasses="left,right">
		<h:outputLabel value="#{msgs['FIELD_LABEL.LIB_RDV']}" styleClass="formHeader" for="titre"
			rendered="#{paramRdvController.actionEnum.whatAction == paramRdvController.actionEnum.addAction}"/>
		<h:inputText id="titre" size="10" value="#{paramRdvController.calendarRDV.titre}"
			rendered="#{paramRdvController.actionEnum.whatAction == paramRdvController.actionEnum.addAction}"/>
			
		
		<h:outputLabel value="#{msgs['FIELD_LABEL.LIB_RDV']}" styleClass="formHeader" for="titreUpdate"
			rendered="#{paramRdvController.actionEnum.whatAction == paramRdvController.actionEnum.updateAction}"/>
		<h:outputText id="titreUpdate" value="#{paramRdvController.calendarRDV.titre}"
				rendered="#{paramRdvController.actionEnum.whatAction == paramRdvController.actionEnum.updateAction}"/>
		
		
		<h:outputLabel value="#{msgs['FIELD_LABEL.CHOIX_CGE_COMMISSION']}"
			styleClass="formHeader" for="choixCgeCommission"/>
		<h:selectOneRadio id="choixCgeCommission" immediate="true"
			onchange="submit();" styleClass="oneRadio"
			value="#{paramRdvController.choix}">
		    <f:selectItems value="#{paramRdvController.allChoix}"/>
		</h:selectOneRadio>
		
		
		<h:outputLabel value="#{msgs['FIELD_LABEL.LIST_CGE']}"
			styleClass="formHeader" for="listCge"
			rendered="#{paramRdvController.choixCge}"/>
		<p:selectOneMenu id="listCge"
			styleClass="oneMenu"
			rendered="#{paramRdvController.choixCge}"
			value="#{paramRdvController.codeCge}">
			<f:selectItems value="#{paramRdvController.allCge}"/>
		</p:selectOneMenu>
		
		
		<h:outputLabel value="#{msgs['FIELD_LABEL.LIST_COMMISSION']}"
			styleClass="formHeader" for="listCommission"
			rendered="#{paramRdvController.choixCommission}"/>
		<h:panelGrid columns="3" id="listCommission" 
			rendered="#{paramRdvController.choixCommission}">
			<p:selectManyMenu styleClass="manyMenu"
				value="#{paramRdvController.selectCommADI}">
				<f:selectItems value="#{paramRdvController.allCommItems}"/>
			</p:selectManyMenu>
			<h:panelGrid columns="1">
				<p:commandButton image="/media/images/fleche_gauche.gif"
					styleClass="icone"
					action="#{paramRdvController.suppCommItems}"/>
				<p:commandButton image="/media/images/fleche_droite.gif"
					styleClass="icone"
					action="#{paramRdvController.ajouCommItems}"/>
			</h:panelGrid>
			<p:selectManyMenu styleClass="manyMenu"
				value="#{paramRdvController.selectCommDI}">
				<f:selectItems value="#{paramRdvController.commItems}"/>
			</p:selectManyMenu>
		</h:panelGrid>
		
		<h:outputLabel value="#{msgs['FIELD_LABEL.LIST_VET']}"
			styleClass="formHeader" for="listVet"
			rendered="#{paramRdvController.choixVet}"/>
		<h:panelGrid columns="3" id="listVet" 
			rendered="#{paramRdvController.choixVet}">
			<p:selectManyMenu styleClass="manyMenu"
				value="#{paramRdvController.selectVetADI}">
				<f:selectItems value="#{paramRdvController.allVetItems}"/>
			</p:selectManyMenu>
			<h:panelGrid columns="1">
				<p:commandButton image="/media/images/fleche_gauche.gif"
					styleClass="icone"
					action="#{paramRdvController.suppVetItems}"/>
				<p:commandButton image="/media/images/fleche_droite.gif"
					styleClass="icone"
					action="#{paramRdvController.ajouVetItems}"/>
			</h:panelGrid>
			<p:selectManyMenu styleClass="manyMenu"
				value="#{paramRdvController.selectVetDI}">
				<f:selectItems value="#{paramRdvController.vetItems}"/>
			</p:selectManyMenu>
		</h:panelGrid>
		
		
		<h:outputLabel value="#{msgs['FIELD_LABEL.MSG_ETUDIANT']}"
			styleClass="formHeader" for="msgEtudiant"/>
		<fck:editor id="msgEtudiant" 
			value="#{paramRdvController.calendarRDV.msgEtudiant}"
			rows="4"
			toolbarSet="Comment" >				
			<f:validateLength minimum="0" maximum="4000" />
		</fck:editor>
		
		
		<h:outputLabel value="#{msgs['FIELD_LABEL.PARTICIPE']}"
			styleClass="formHeader" for="participe"/>
		<p:selectBooleanCheckbox id="participe"
			immediate="true"	
			onchange="submit();"
			value="#{paramRdvController.calendarRDV.participeOK}"/>
		
		
		<h:outputLabel value="#{msgs['FIELD_LABEL.DATE_DEBUT']}"
			styleClass="formHeader" for="dateDebut"
			rendered="#{paramRdvController.calendarRDV.participeOK}"/>
		<t:inputCalendar id="dateDebut" size="10" immediate="true"
			rendered="#{paramRdvController.calendarRDV.participeOK}"	
			value="#{paramRdvController.calendarRDV.dateDebutInsc}" 
			renderAsPopup="true"
			renderPopupButtonAsImage="true" 
			popupDateFormat="dd/MM/yy"
			popupTodayString="#{msgs['CALENDAR.TODAY']}"
			popupWeekString="#{msgs['CALENDAR.WK']}">
			<f:convertDateTime timeZone="Europe/Paris" locale="fr_FR" type="date" dateStyle="short" pattern="dd/MM/yy" />
		</t:inputCalendar>
		
		
		<h:outputLabel value="#{msgs['FIELD_LABEL.DATE_FIN']}"
			styleClass="formHeader" for="dateFin"
			rendered="#{paramRdvController.calendarRDV.participeOK}"/>
		<t:inputCalendar id="dateFin" size="10" immediate="true"
			rendered="#{paramRdvController.calendarRDV.participeOK}"	
			value="#{paramRdvController.calendarRDV.dateFinInsc}"					
			renderAsPopup="true"
			renderPopupButtonAsImage="true" 
			popupDateFormat="dd/MM/yy"
			popupTodayString="#{msgs['CALENDAR.TODAY']}"
			popupWeekString="#{msgs['CALENDAR.WK']}">
			<f:convertDateTime timeZone="Europe/Paris" locale="fr_FR" type="date" dateStyle="short" pattern="dd/MM/yy" />
		</t:inputCalendar>
		
		
		<h:outputLabel value="#{msgs['FIELD_LABEL.NB_ETUDIANT_PAR_HEURE']}"
			styleClass="formHeader" for="nbEtudiantParHeure"
			rendered="#{paramRdvController.calendarRDV.participeOK}"/>
		<h:inputText id="nbEtudiantParHeure" maxlength="2" size="4"
			rendered="#{paramRdvController.calendarRDV.participeOK}"
			value="#{paramRdvController.calendarRDV.nbreMaxEtud}">
			<f:validateRegex pattern="^([1-9]{1})([0-9]{0,1})$" />
		</h:inputText>
			
			
		<h:outputLabel value="#{msgs['FIELD_LABEL.NB_JOURS_OUVRES']}"
			styleClass="formHeader" for="nbJoursOuvres"
			rendered="#{paramRdvController.calendarRDV.participeOK}"/>
		<h:inputText id="nbJoursOuvres" size="2"
			rendered="#{paramRdvController.calendarRDV.participeOK}"
			value="#{paramRdvController.calendarRDV.nbJoursAvantPro}" >
			<f:validateRegex pattern="^([0-9]{1})([0-9]*)$" />
		</h:inputText>
			
			
		<h:outputLabel value="#{msgs['FIELD_LABEL.NB_JOURS_PROPOSES']}"
			styleClass="formHeader" for="nbJoursProposes"
			rendered="#{paramRdvController.calendarRDV.participeOK}"/>
		<h:inputText id="nbJoursProposes" size="3"
			rendered="#{paramRdvController.calendarRDV.participeOK}"
			value="#{paramRdvController.calendarRDV.nbJoursApresPro}" >
			<f:validateRegex pattern="^([1-9]{1})([0-9]*)$"  />
		</h:inputText>
		
		
		<h:outputLabel value="#{msgs['FIELD_LABEL.MSG_MAIL']}"
			styleClass="formHeader" for="msgMail"
			rendered="#{paramRdvController.calendarRDV.participeOK}"/>
		<fck:editor id="msgMail" rows="4" toolbarSet="Empty"
			rendered="#{paramRdvController.calendarRDV.participeOK}"
			value="#{paramRdvController.calendarRDV.msgMailConfirmation}">
			<f:validateLength minimum="0" maximum="4000"/>
		</fck:editor>
		
		
		<h:outputLabel value="#{msgs['FIELD_LABEL.MSG_VALIDATION']}"
			styleClass="formHeader" for="msgValidation"
			rendered="#{paramRdvController.calendarRDV.participeOK}"/>
		<fck:editor id="msgValidation" rows="4" toolbarSet="Comment"
			rendered="#{paramRdvController.calendarRDV.participeOK}"
			value="#{paramRdvController.calendarRDV.msgValidation}">
			<f:validateLength minimum="0" maximum="2000"/>
		</fck:editor>
	</h:panelGrid>
	
	
	<p:message for="seeRdvForm"/>
</ui:fragment>